!function(){"use strict";function t(c,u,p,l){function h(t,n,o){var e=c.configs.api_end_point+"/v1.0";return null!=t&&""!==t&&(e=e+"/"+t),e+"/"+n+"/"+o}return{Post:function(t,n,o,e,s){l.start("Vui lòng chờ trong giây lát ...");var a=c.auth_access,r=formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),i=CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(a)),a={};null!==e&&(a.value=e),a.AccessToken=i,a.TimeStamp=r,a.Nonce=0;r=CryptoJS.SHA256(angular.toJson(a)).toString(),o=h(t,n,o);u({url:o,method:"POST",data:a,headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json;odata=verbose","Auth-Access":r}}).then(function(t){s(t),l.stop()},function(t){l.stop(),alert(t),404!==t.status?alert(t.status+": "+t.statusText+"\nHãy liên hệ với người quản trị hệ thống để nhận được hỗ trợ."):p.go("login")})},Get:function(t,n,o,e,s){l.start("Vui lòng chờ trong giây lát ...");var a=c.auth_access,r=formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),i=CryptoJS.enc.Base64.stringify(CryptoJS.enc.Utf8.parse(a)),a={};null!==e&&(a.value=e),a.AccessToken=i,a.TimeStamp=r,a.Nonce=0;r=CryptoJS.SHA256(angular.toJson(a)).toString(),o=h(t,n,o);u({url:o,method:"GET",params:a,headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json","Auth-Access":r}}).then(function(t){s(t),l.stop()},function(t){l.stop(),404!==t.status?alert(t.status+": "+t.statusText+"\nHãy liên hệ với người quản trị hệ thống để nhận được hỗ trợ."):p.go("login")})},Upload:function(t,n,o,e,s){l.start("Vui lòng chờ trong giây lát ...");o=h(t,n,o);u.post(o,e,{headers:{"Content-Type":void 0},transformRequest:angular.identity}).then(function(t){s(t),l.stop()},function(t){l.stop(),404!==t.status?alert(t.status+": "+t.statusText+"\nHãy liên hệ với người quản trị hệ thống để nhận được hỗ trợ."):p.go("login")})}}}angular.module("app").factory("$service",t),t.$inject=["$rootScope","$http","$state","blockUI"]}();